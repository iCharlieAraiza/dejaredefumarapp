import { useContext, useState } from "react";

import MainLayout from "../layout/MainLayout";
import EditForm from "../components/EditForm";

import { Tabs } from "../components/Tabs";
import CheckDone from "../components/CheckDone";

import { GlobalContext } from "../context/GlobalContext";

import { EditPagePlaceholder } from "../components/Placeholder";
import { Link } from "react-router-dom";

export const Edit = () => {
  const [tabValue, setTabValue] = useState(1);
  const { profile } = useContext(GlobalContext);
  const [currentProfile, loading] = profile;

  return (
    <MainLayout>
      <div className="separator"></div>
      <div className="container">
        <div className="main__two-column">
          <div className="column-1 col-left">
            <h1>Actualiza tu información</h1>
            <p>
              Para calcular tus avances y tener un mejor seguimiento, agrega la
              siguiente información
            </p>
            <div className="sidebar__img">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="512"
                height="512"
                enableBackground="new 0 0 512 512"
                viewBox="0 0 73 73"
              >
                <path
                  d="M4.372 14.605c-.011.05-.021.1-.03.152-.202 1.11.116 2.239.351 3.318.244 1.12.488 2.242.73 3.363a1469.99 1469.99 0 013.138 14.819 873.292 873.292 0 012.95 14.95c.926 4.933 1.8 9.875 2.599 14.829.155.96 1.007 1.418 1.895 1.024.079-.035.159-.072.249-.109.148-.061.08-.296.058-.455-2.083-15.083-4.805-31.385-8.032-46.25-.298-1.369-.967-2.515-1.397-3.846-.238-.737-.262-1.691-.535-2.464-.113-.32-.228-.64-.348-.96-.043-.115-.432-.814-.402-.86-.507.78-1.024 1.585-1.226 2.49zm60.147.492a.751.751 0 01-.691-1.041c.115-.272.026-.92-.432-1.755-.673-1.227-2.014-2.583-3.275-2.798a.75.75 0 01.252-1.479c1.82.31 3.49 2.01 4.338 3.557.653 1.188.83 2.274.5 3.057a.75.75 0 01-.692.46zM38.666 27.294c.786.744 1.355 1.837 2.036 2.678l-2.452.65c-.863.23-.567-.47-.419-1.027.182-.681.572-1.647.835-2.301z"
                  data-original="#000000"
                ></path>
                <path
                  d="M64.617 14.222a54.334 54.334 0 002.667-2.509c.449-.451.914-.96.984-1.593.09-.797-.471-1.51-1.033-2.082-.629-.64-1.347-1.256-2.224-1.44-.899-.19-1.845.118-2.544.692-.547.45-1.337 1.317-1.063 2.095.276.787 1.29 1.138 1.78 1.821.59.821 1.09 2.066 1.433 3.016zM20.09 60.801c-.323.416.17.923.568 1.135 12.222-2.958 25.236-5.912 37.668-7.808.344-.439.659-1.014.333-1.835-4.524.821-9.803 1.475-14.326 2.295-8.282 1.503-16.348 3.296-24.242 6.213z"
                  data-original="#000000"
                ></path>
                <path
                  d="M16.004 66.98a.751.751 0 01-.743-.65c-1.542-11.498-3.074-21.631-4.553-30.115-.008-.047-.022-.11-.028-.186-1.525-8.705-2.893-15.232-4.177-19.952l-.01-.032-.034-.105.004-.002a.768.768 0 01.007-.778c.294-.475 1.088-.411 1.314.063.023.04.042.081.057.123l.036.104.05.153a.82.82 0 01.02.065c1.3 4.774 2.68 11.365 4.218 20.147a.73.73 0 01.012.13c1.457 8.32 2.955 18.203 4.465 29.397 12.283-2.413 24.787-3.475 36.886-4.503l.115-.01c-.317-1.889-.64-3.815-.972-5.77a.75.75 0 01.614-.865.749.749 0 01.865.614c.38 2.243.75 4.448 1.111 6.6a.75.75 0 01-.874.863l-.732.062c-12.229 1.04-24.874 2.114-37.244 4.583l-.24.046a.748.748 0 01-.167.018zm32.469-39.754a.746.746 0 01-.75-.745v-.01a.75.75 0 011.5 0 .754.754 0 01-.75.755z"
                  data-original="#000000"
                ></path>
                <path
                  d="M20.591 61.432a.75.75 0 01-.742-.644l-.003-.015-5.453-20.082-4.644-15.21-1.885-5.606-.466-1.323-.526-1.458c-.076-.21-.15-.41-.235-.623a12.19 12.19 0 01-.18-.478 3.144 3.144 0 01-.066-.217c-.017-.057-.03-.115-.054-.167-.104-.23-.199-.481-.29-.726L5.38 13.16a1.756 1.756 0 01-.022-.065.751.751 0 01.417-1.22 377.335 377.335 0 0111.47-2.238c4.513-.806 8.858-1.46 13.28-1.998 3.826-.476 7.87-.88 12.36-1.236l2.14-.16a.755.755 0 01.8.696.75.75 0 01-.696.8l-2.132.16c-4.462.353-8.483.755-12.288 1.229a237.266 237.266 0 00-13.2 1.986c-3.36.599-6.81 1.268-10.52 2.039l.463 1.205c.08.212.16.43.25.629.054.12.094.248.131.378l.04.13c.048.14.1.277.155.414.091.225.172.444.255.672l.528 1.467c.157.443.314.887.469 1.333l3.32 10.107 5.776 19.835 2.751 10.4c8.621-2.717 17.672-4.327 26.434-5.884 1.833-.327 3.663-.652 5.483-.986a396.38 396.38 0 004.291-.815c-2.313-8.074-4.879-16.78-7.361-25.205l-.429-1.453a.75.75 0 111.44-.424l.427 1.453c2.547 8.643 5.181 17.58 7.516 25.754.037.105.067.197.09.299a.75.75 0 01-.73.917c-1.601.317-3.286.638-4.972.949-1.825.335-3.657.661-5.492.987-8.973 1.596-18.25 3.245-27.001 6.08a.758.758 0 01-.232.036z"
                  data-original="#000000"
                ></path>
                <path
                  d="M48.022 18.248a.751.751 0 01-.72-.541 5568.554 5568.554 0 01-3.016-10.428.75.75 0 111.442-.414c.972 3.374 1.983 6.87 3.014 10.424a.752.752 0 01-.72.959z"
                  data-original="#000000"
                ></path>
                <path
                  d="M36.587 31.789a.752.752 0 01-.728-.93c.413-1.669 1.043-3.15 1.771-4.862.318-.747.655-1.541 1.002-2.416a.749.749 0 01.255-.33l22.877-16.73c1.9-1.391 4.613-.614 5.952.985.773.922 1.139 2.247.982 3.544-.135 1.106-.642 2.032-1.426 2.605L44.896 30.019a.752.752 0 01-.198.104c-1.616.557-3.686.901-5.513 1.205-.911.151-1.772.295-2.434.442a.723.723 0 01-.164.019zm3.36-7.454a114.04 114.04 0 01-.937 2.249c-.526 1.239-1 2.351-1.365 3.484.41-.073.846-.145 1.294-.22 1.727-.287 3.68-.612 5.165-1.107l22.283-16.297c.445-.326.737-.886.821-1.576.108-.879-.14-1.798-.642-2.4-.883-1.054-2.745-1.592-3.917-.736zm4.506 5.079h.01z"
                  data-original="#000000"
                ></path>
                <path
                  d="M44.177 30.233a.749.749 0 01-.576-1.23c.108-.175.076-.954-.106-1.44-.109-.292-.682-.733-1.021-.788a.748.748 0 01-.602-.53 1.628 1.628 0 00-.669-.895c-.413-.268-1.285-.557-1.563-.508a.746.746 0 01-.844-.643.75.75 0 01.643-.844c.852-.114 2.097.424 2.58.736.504.326.9.789 1.143 1.329.745.288 1.492.96 1.738 1.616.184.492.553 2.086-.147 2.927a.745.745 0 01-.576.27z"
                  data-original="#000000"
                ></path>
                <path
                  d="M43.319 26.255a.75.75 0 01-.44-1.359c1.38-.993 2.815-2.01 4.275-3.047 5.08-3.603 10.334-7.329 14.782-11.077a.75.75 0 01.967 1.147c-4.496 3.789-9.776 7.533-14.881 11.154a762.812 762.812 0 00-4.266 3.04.746.746 0 01-.437.142zm-27.846-6.019a.75.75 0 01-.16-1.482l15.946-3.482a.749.749 0 11.32 1.465l-15.945 3.481a.754.754 0 01-.161.018zm.892 11.295a.75.75 0 01-.145-1.485l15.398-3.042a.75.75 0 01.291 1.47l-15.398 3.042a.753.753 0 01-.146.015zm4.055 12.005a.75.75 0 01-.16-1.483l24.042-5.305a.75.75 0 11.322 1.465l-24.043 5.305a.763.763 0 01-.162.018zm7.334 5.979a.75.75 0 01-.123-1.489 47.9 47.9 0 007.461-1.879.747.747 0 01.951.469.749.749 0 01-.468.951c-2.5.85-5.09 1.502-7.696 1.938a.683.683 0 01-.125.01z"
                  data-original="#000000"
                ></path>
                <path
                  d="M8.561 36.257c2.014 9.787 3.953 19.876 5.549 29.779.155.96 1.007 1.418 1.895 1.024.1-.045.01-.003.255-.115 3.341-.475 7.151-2.04 37.395-4.612l.732-.062a.75.75 0 00.874-.862c-.602-3.6-.817-4.854-1.113-6.605 1.398-.236 2.792-.464 4.178-.676.205-.261.396-.573.451-.954.031-.028.07-.044.096-.077a.75.75 0 00.146-.634 2.723 2.723 0 00-.091-.3c-2.335-8.172-4.969-17.11-7.516-25.753l-.28-.952 16.14-11.803c.784-.573 1.29-1.499 1.426-2.605.157-1.297-.21-2.622-.982-3.544-1.339-1.599-4.052-2.376-5.952-.985l-13.32 9.74c-.9-3.11-1.788-6.173-2.642-9.14.098-.547-.34-.898-.776-.877-13.919 1.2-21.604 1.925-39.251 5.632a.75.75 0 00-.582.879c-.356.583-.673 1.19-.82 1.85-.358 1.607-.002 1.285 4.188 21.652zm45.082 24.572c-12.38 1.052-24.763 2.11-37.001 4.513-1.505-11.156-3.464-24.418-5.566-35.515l3.317 10.864c5.72 21.037 5.43 20.188 5.595 20.42.013.333.368.664.67.825C31.04 59.424 41.99 56.92 52.67 55.06c.331 1.955.656 3.88.972 5.769zm-8.52-32.833c-.122-.928-.342-1.453-1.112-2.065 1.778-1.277 18.155-12.807 19.032-14.19.13.187.251.375.353.56.458.835.547 1.483.431 1.755a.742.742 0 00-.056.302zm-7.417 2.062l-.061.01c.075-.234.173-.47.257-.704-.055.182-.153.51-.196.694zm2.716-.463c-.553-.76-1.065-1.628-1.723-2.265.044-.104.819-1.95 1.037-2.482.336.002 1.087.255 1.467.502.856.554.494 1.303 1.27 1.425.34.055.913.496 1.022.788.157.419.196 1.033.136 1.314-.977.287-2.09.52-3.209.718zm19.776-20.07c.662.136 1.338.577 1.928 1.143-.787.339.02.549-14.972 11.181-.377.267-4.02 2.85-4.305 3.08-.434-.618-.864-.972-1.892-1.333zM44.434 7.791c.881 3.058 1.793 6.208 2.722 9.413-8.602 6.34-8.38 6.009-8.524 6.376-1.128 2.847-2.179 4.876-2.773 7.278a.752.752 0 00.892.911c1.408-.313 7.325-1.156 8.145-1.75l4.95-3.62.128.434c2.482 8.425 5.048 17.13 7.361 25.205-12.197 2.39-24.492 3.992-36.208 7.684l-2.75-10.4L12.6 29.49 9.28 19.382c-.36-1.037-1.39-3.89-1.403-3.932a4.346 4.346 0 01-.036-.104c-.055-.158.042.166-.389-.987l-.462-1.205c16.138-3.356 23.742-4.17 37.444-5.362z"
                  data-original="#000000"
                ></path>
                <path
                  d="M15.634 20.218l15.945-3.481a.749.749 0 10-.32-1.465l-15.945 3.482a.75.75 0 10.32 1.464zm.586 9.828a.749.749 0 10.291 1.47l15.398-3.042a.749.749 0 10-.29-1.47zm4.2 13.49a.763.763 0 00.161-.018l24.043-5.305a.75.75 0 10-.322-1.465l-24.043 5.305c-.873.192-.73 1.483.16 1.483zm14.672 2.611a47.9 47.9 0 01-7.46 1.88.75.75 0 10.247 1.478 49.179 49.179 0 007.696-1.938.749.749 0 00.468-.951.747.747 0 00-.95-.469z"
                  data-original="#000000"
                ></path>
              </svg>
            </div>
          </div>
          <div className="column-2">
            <div className="checkdone__button-section">
              <Link to="/profile">← Volver a mi perfil</Link>
            </div>
            <Tabs
              value={tabValue}
              onChange={(e) => setTabValue(e)}
              items={[
                { value: 1, label: "1. Configuración" },
                { value: 2, label: "2. Actualizar", disabled: true },
              ]}
            />
            {loading && <EditPagePlaceholder />}
            {currentProfile.username && !loading && tabValue !== 2 && (
              <EditForm
                profile={currentProfile}
                callback={() => setTabValue(2)}
              />
            )}
            {tabValue === 2 && <CheckDone />}
          </div>
        </div>
      </div>
    </MainLayout>
  );
};
